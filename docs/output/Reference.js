Ext.data.JsonP.Reference({"tagname":"class","name":"Reference","extends":null,"mixins":[],"alternateClassNames":[],"aliases":{},"singleton":false,"requires":[],"uses":[],"enum":null,"override":null,"inheritable":null,"inheritdoc":null,"meta":{"author":["Bo Gotthardt"]},"private":null,"id":"class-Reference","members":{"cfg":[],"property":[],"method":[{"name":"constructor","tagname":"method","owner":"Reference","meta":{},"id":"method-constructor"},{"name":"get","tagname":"method","owner":"Reference","meta":{},"id":"method-get"},{"name":"getAs","tagname":"method","owner":"Reference","meta":{},"id":"method-getAs"},{"name":"getBinaryURL","tagname":"method","owner":"Reference","meta":{},"id":"method-getBinaryURL"},{"name":"getEachWith","tagname":"method","owner":"Reference","meta":{},"id":"method-getEachWith"}],"event":[],"css_var":[],"css_mixin":[]},"linenr":12,"files":[{"filename":"Reference.js","href":"Reference.html#Reference"}],"html_meta":{"author":null},"statics":{"cfg":[],"property":[{"name":"bundleCache","tagname":"property","owner":"Reference","meta":{"private":true,"static":true},"id":"static-property-bundleCache"}],"method":[{"name":"clearCache","tagname":"method","owner":"Reference","meta":{"static":true},"id":"static-method-clearCache"},{"name":"getBundlePart","tagname":"method","owner":"Reference","meta":{"private":true,"static":true},"id":"static-method-getBundlePart"},{"name":"getBundleReference","tagname":"method","owner":"Reference","meta":{"private":true,"static":true},"id":"static-method-getBundleReference"},{"name":"saveBundle","tagname":"method","owner":"Reference","meta":{"private":true,"static":true},"id":"static-method-saveBundle"},{"name":"setBaseURL","tagname":"method","owner":"Reference","meta":{"static":true},"id":"static-method-setBaseURL"}],"event":[],"css_var":[],"css_mixin":[]},"component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/Reference.html#Reference' target='_blank'>Reference.js</a></div></pre><div class='doc-contents'><p>A Publication API \"reference\".\nThese are used to encapsulate detailed data into separate requests, while allowing responses to return more data than requested.\nResolving references correctly then lets us reuse this \"bonus\" data to avoid requesting it from the server.\nThis is a little complicated, but allows for much better usage of the Content Delivery Network caching.</p>\n\n<p><b>There should be no need to use this class when simply working with the objects returned by <a href=\"#!/api/PublicationAPI\" rel=\"PublicationAPI\" class=\"docClass\">PublicationAPI</a>.</b></p>\n</div><div class='members'><div class='members-section'><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Static Properties</h3><div id='static-property-bundleCache' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-static-property-bundleCache' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-static-property-bundleCache' class='name expandable'>bundleCache</a><span> : Object</span><strong class='private signature' >private</strong><strong class='static signature' >static</strong></div><div class='description'><div class='short'>A map of bundle paths to their bundles. ...</div><div class='long'><p>A map of bundle paths to their bundles.\nA bundle is then a map of bundle parts to their data.</p>\n<p>Defaults to: <code>{}</code></p></div></div></div></div></div><div class='members-section'><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Instance Methods</h3><div id='method-constructor' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-method-constructor' target='_blank' class='view-source'>view source</a></div><strong class='new-keyword'>new</strong><a href='#!/api/Reference-method-constructor' class='name expandable'>Reference</a>( <span class='pre'>data</span> ) : <a href=\"#!/api/Reference\" rel=\"Reference\" class=\"docClass\">Reference</a></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>data</span> : Object<div class='sub-desc'><p>The raw object to convert to a Reference object.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Reference\" rel=\"Reference\" class=\"docClass\">Reference</a></span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-get' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-method-get' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-method-get' class='name expandable'>get</a>( <span class='pre'></span> ) : <a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a></div><div class='description'><div class='short'>Get the data that this reference points to. ...</div><div class='long'><p>Get the data that this reference points to.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>A promise for the reference data as an Object.</p>\n</div></li></ul></div></div></div><div id='method-getAs' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-method-getAs' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-method-getAs' class='name expandable'>getAs</a>( <span class='pre'>Class</span> ) : <a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a></div><div class='description'><div class='short'>Get the data that this reference points to, as an instance of the specified class. ...</div><div class='long'><p>Get the data that this reference points to, as an instance of the specified class.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>Class</span> : Function<div class='sub-desc'><p>The constructor function of the class to use. Must take a single parameter with the reference data as input.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>A promise for the reference data as an instance of Class.</p>\n</div></li></ul></div></div></div><div id='method-getBinaryURL' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-method-getBinaryURL' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-method-getBinaryURL' class='name expandable'>getBinaryURL</a>( <span class='pre'></span> ) : String</div><div class='description'><div class='short'>Get the URL to a binary file that this reference points to. ...</div><div class='long'><p>Get the URL to a binary file that this reference points to.\nOnly call this on references you know point to binary URLs, such as page representation references.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-getEachWith' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-method-getEachWith' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-method-getEachWith' class='name expandable'>getEachWith</a>( <span class='pre'>parserFunction</span> ) : <a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a></div><div class='description'><div class='short'>Get the data that this reference points to, as a list of instances constructed by the specified function. ...</div><div class='long'><p>Get the data that this reference points to, as a list of instances constructed by the specified function.\nAssumes that the raw data returned is a list.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>parserFunction</span> : Function<div class='sub-desc'><p>The function to call with each item of raw data to parse them into some kind of object.</p>\n\n<pre><code>                             Must take a single parameter with the reference data as input.\n</code></pre>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>A promise for the reference data as a list of objects created by the parsing function.</p>\n</div></li></ul></div></div></div></div><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Static Methods</h3><div id='static-method-clearCache' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-static-method-clearCache' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-static-method-clearCache' class='name expandable'>clearCache</a>( <span class='pre'></span> )<strong class='static signature' >static</strong></div><div class='description'><div class='short'>Clear any cached reference data. ...</div><div class='long'><p>Clear any cached reference data.</p>\n</div></div></div><div id='static-method-getBundlePart' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-static-method-getBundlePart' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-static-method-getBundlePart' class='name expandable'>getBundlePart</a>( <span class='pre'>path, part</span> ) : Object<strong class='private signature' >private</strong><strong class='static signature' >static</strong></div><div class='description'><div class='short'>Get a bundle part's data from the cache. ...</div><div class='long'><p>Get a bundle part's data from the cache.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>path</span> : String<div class='sub-desc'><p>The bundle path.</p>\n</div></li><li><span class='pre'>part</span> : String<div class='sub-desc'><p>The bundle part.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>The data, or null if it was not cached.</p>\n</div></li></ul></div></div></div><div id='static-method-getBundleReference' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-static-method-getBundleReference' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-static-method-getBundleReference' class='name expandable'>getBundleReference</a>( <span class='pre'>path, part</span> ) : <a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a><strong class='private signature' >private</strong><strong class='static signature' >static</strong></div><div class='description'><div class='short'>Get the data for a \"bundle\" reference type. ...</div><div class='long'><p>Get the data for a \"bundle\" reference type.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>path</span> : String<div class='sub-desc'><p>The bundle path.</p>\n</div></li><li><span class='pre'>part</span> : String<div class='sub-desc'><p>The bundle part.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/Promise\" rel=\"Promise\" class=\"docClass\">Promise</a></span><div class='sub-desc'><p>A promise for the data.</p>\n</div></li></ul></div></div></div><div id='static-method-saveBundle' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-static-method-saveBundle' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-static-method-saveBundle' class='name expandable'>saveBundle</a>( <span class='pre'>path, bundle</span> )<strong class='private signature' >private</strong><strong class='static signature' >static</strong></div><div class='description'><div class='short'>Cache a bundle so its parts can be reused later. ...</div><div class='long'><p>Cache a bundle so its parts can be reused later.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>path</span> : String<div class='sub-desc'><p>The bundle path it was retrieved from.</p>\n</div></li><li><span class='pre'>bundle</span> : Object<div class='sub-desc'><p>The bundle object that maps bundle parts to their data.</p>\n</div></li></ul></div></div></div><div id='static-method-setBaseURL' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='Reference'>Reference</span><br/><a href='source/Reference.html#Reference-static-method-setBaseURL' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Reference-static-method-setBaseURL' class='name expandable'>setBaseURL</a>( <span class='pre'>url</span> )<strong class='static signature' >static</strong></div><div class='description'><div class='short'>Set the base URL used to resolve \"resourcePath\" and \"bundlePath\" references. ...</div><div class='long'><p>Set the base URL used to resolve \"resourcePath\" and \"bundlePath\" references.\n<b>Must</b> be set after publication info has been retrieved.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>url</span> : String<div class='sub-desc'><p>The base URL</p>\n</div></li></ul></div></div></div></div></div></div></div>"});