<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">define([&quot;util/Browser&quot;],
    function (Browser) {
        &quot;use strict&quot;;

<span id='QueryParameters-method-constructor'><span id='QueryParameters'>        /**
</span></span>         * Query parameter parsing.
         * The parameters are placed directly as properties on the object.
         *
         * @author Bo Gotthardt
         * @constructor
         *
         * @param {Window} [frame] The window to parse query parameters for. Optional, defaults to the current frame.
         */
        function QueryParameters(frame) {
            frame = frame || Browser.getWindow();
            var scope = this,
                queryString = frame.location.search;

            if (queryString !== &quot;&quot;) {
                var parameters = queryString.substr(1).split(&quot;&amp;&quot;);
                parameters.forEach(function (parameter) {
                    var keyValue = parameter.split(&quot;=&quot;);
                    if (keyValue.length === 2) {
                        scope[keyValue[0]] = decodeURIComponent(keyValue[1]);
                    } else {
                        scope[keyValue[0]] = &quot;&quot;;
                    }
                });
            }
        }

<span id='QueryParameters-method-toQueryString'>        /**
</span>         * Returns the query parameters as a string, including the leading ? if applicable.
         * If the parameters happen to have a &quot;toQueryString&quot; key, you need to use QueryParameters.prototype.toQueryString.call(x) instead.
         *
         * @returns {String}
         */
        QueryParameters.prototype.toQueryString = function () {
            var keys = Object.prototype.keys.call(this);

            if (keys.length === 0) {
                return &quot;&quot;;
            }

            return &quot;?&quot; + keys.map(function (key) {
                return key + &quot;=&quot; + this[key];
            }).join(&quot;&amp;&quot;);
        };

        return QueryParameters;
    });</pre>
</body>
</html>
